<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détail de la Facture</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="container">
        <nav>
            <ul><li><strong style="font-size: 1.2rem;">Détail de la Facture</strong></li></ul>
            <ul id="nav-links">
                <li><a href="index.html">Retour à la liste</a></li>
                <li id="logout-li"><a href="#" id="logout-button">Déconnexion</a></li>
            </ul>
        </nav>
        <article id="blocked-message" style="display: none; background-color: #fff3cd; border-left: 4px solid #ff9f0a;">
            <p style="margin: 0;">⚠️ <strong>Cette note de frais est en cours de traitement.</strong> Vous ne pouvez pas la modifier.</p>
        </article>
        <article>
            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                <div>
                    <h2 id="detail-fournisseur" style="margin: 0;">Chargement...</h2>
                    <p id="detail-date" style="color: var(--secondary-text-color); margin: 0;"></p>
                </div>
                <div id="detail-status-badge"></div>
            </div>
            <dl class="invoice-details-grid">
                <dt>Montant TTC</dt><dd id="detail-montant-ttc"></dd>
                <dt>Montant HT</dt><dd id="detail-montant-ht"></dd>
                <dt>Montant TVA</dt><dd id="detail-montant-tva"></dd>
                <dt>Déclarant</dt><dd id="detail-declarant"></dd>
                <dt>Catégorie</dt><dd id="detail-categorie"></dd>
                <dt>Source de Paiement</dt><dd id="detail-source"></dd>
            </dl>
            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button id="edit-button" style="display: none;">Modifier la facture</button>
                <button id="delete-button" style="display: none; background-color: #ff3b30; color: white;">Supprimer la facture</button>
            </div>
        </article>
        <article>
            <h3>Justificatif</h3>
            <div id="file-viewer" style="border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; min-height: 500px; background: #f5f5f7;">
                <p style="text-align: center; padding: 2rem;">Chargement...</p>
            </div>
        </article>
        <article id="admin-actions" style="display: none;">
            <h3>Actions Administrateur</h3>
            <form id="status-form">
                <div class="grid">
                    <label>Changer le statut
                        <select id="status-select">
                            <option value="En attente de visa">En attente de visa</option>
                            <option value="Visé">Visé</option>
                            <option value="Validé">Validé</option>
                            <option value="Remboursé">Remboursé</option>
                            <option value="Refusé">Refusé</option>
                        </select>
                    </label>
                    <button type="submit">Appliquer</button>
                </div>
            </form>
        </article>
    </main>
    <script type="module" src="app.js"></script>
</body>
</html>
